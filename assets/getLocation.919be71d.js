import{g as k,u as h,E as v,m as w,n as x,H as B,r as b,o as u,h as d,j as C,i as c,A as F,B as L,I as l,F as D,q as I,D as j,p as M,k as A,s as E}from"./vendor.1dcf2f74.js";import{A as $}from"./index.92a13adf.js";import{a as P}from"./index.50c16ae5.js";import{t as S,q as V}from"./index.9a305ccf.js";import{_ as q}from"./index.5103ebbf.js";const f=r=>(M("data-v-3c5239cc"),r=r(),A(),r),N={class:"container"},R=f(()=>c("div",{class:"content",id:"myMap"},null,-1)),T={class:"search"},z={class:"searchBox"},G=f(()=>c("div",{class:"title"},"\u8BF7\u8F93\u5165\u5173\u952E\u5B57",-1)),H={class:"searchList"},O=["onClick"],U=k({setup(r){const _=h();let n=v(null);const i=v(null),a=w({list:[],selected:!1,keyword:""});x(()=>{m()}),B(()=>{n.value&&n.value.destroy()});function m(){$.load({key:"9b8d062702a9d557146643641099a3c8",version:"2.0",plugins:[""]}).then(e=>{i.value=e,n=new e.Map("myMap",{viewMode:"3D",resizeEnable:!0}),e.plugin("AMap.Geolocation",function(){var t=new e.Geolocation({enableHighAccuracy:!0,timeout:1e4,position:"RB",buttonOffset:new e.Pixel(10,20),zoomToAccuracy:!0});n.addControl(t),t.getCurrentPosition(function(s,o){s=="complete"?console.log("\u5B9A\u4F4D\u6210\u529F",o):console.log("\u5B9A\u4F4D\u5931\u8D25",o)})})}).catch(e=>{console.log(e)})}function g(){_.back()}const p=S(e=>{a.keyword=e.target.value;const t={keywords:e.target.value,key:"b2993222f87de539cc6f0a270f129259"};let s="/text";s="https://restapi.amap.com/v5/place/text",P.get(`${s}${V(t)}`).then(o=>{console.log("res",o),a.list=o.data.pois})},1e3);function y(e){console.log(e),a.keyword=e.name,a.selected=!0;const t=e.location.split(",")[0],s=e.location.split(",")[1];var o=new i.value.Marker({position:new i.value.LngLat(t,s)});o.setTitle(e.name),o.setLabel({offset:new i.value.Pixel(0,-10),content:`<div class='info'>${e.name}</div>`,direction:"top"}),n.add(o),n.setCenter([t,s])}return(e,t)=>{const s=b("van-nav-bar");return u(),d("div",N,[C(s,{class:"nav",title:"\u9AD8\u5FB7\u5730\u56FE","left-arrow":"",onClickLeft:t[0]||(t[0]=o=>g())}),R,c("div",T,[c("div",z,[G,F(c("input",{type:"text",onInput:t[1]||(t[1]=(...o)=>l(p)&&l(p)(...o)),"onUpdate:modelValue":t[2]||(t[2]=o=>l(a).keyword=o)},null,544),[[L,l(a).keyword]])]),c("ul",H,[l(a).selected?j("",!0):(u(!0),d(D,{key:0},I(l(a).list,o=>(u(),d("li",{key:o.id,onClick:K=>y(o)},E(o.name),9,O))),128))])])])}}});var Z=q(U,[["__scopeId","data-v-3c5239cc"]]);export{Z as default};
